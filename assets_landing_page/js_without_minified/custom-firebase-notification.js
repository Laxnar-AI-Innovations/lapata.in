var firebaseConfig={apiKey:"AIzaSyDI5iDXHovWWBLvmhP_zIWFRPcFDEEIM6E",authDomain:"khoji-61c54.firebaseapp.com",projectId:"khoji-61c54",storageBucket:"khoji-61c54.appspot.com",messagingSenderId:"214815245147",appId:"1:214815245147:web:8c7053f6f5bae4df29907e",measurementId:"G-CHNDLEEJVF"};firebase.initializeApp(firebaseConfig);const messaging=firebase.messaging();function IntitalizeFireBaseMessaging(){messaging.requestPermission().then(function(){console.log("Notification Permission");return messaging.getToken()}).then(function(token){jQuery.ajax({url:baseurl+"landing/sendNotification",type:"POST",dataType:'json',data:{token:token,'_token':hash}})})}
messaging.onMessage(function(payload){console.log(payload);const notificationOption={body:payload.notification.body,icon:payload.notification.icon,};if(Notification.permission==="granted"){var notification=new Notification(payload.notification.title,notificationOption);notification.onclick=function(ev){ev.preventDefault();window.open(payload.notification.click_action,'_blank');notification.close()}}});messaging.onTokenRefresh(function(){messaging.getToken().then(function(newtoken){console.log("New Token : "+newtoken)}).catch(function(reason){console.log(reason)})})