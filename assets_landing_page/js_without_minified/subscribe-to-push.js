subscribeToPush();async function subscribeToPush(){try{const serviceWorker=await navigator.serviceWorker.register('/serviceworker.js');const subscription=await serviceWorker.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:urlBase64ToUint8Array('BO_gEInasjitMJbRP7UqMIHIV70U2dvYNI1lnkrU1p7EaISuY787sPxzNBNJ5jvCEa3XaFdTilcbiERxW4oGncY')});IntitalizeFireBaseMessaging()}catch(error){console.error('Error subscribing to push notifications:',error)}}
function urlBase64ToUint8Array(base64String){const padding='='.repeat((4-base64String.length%4)%4);const base64=(base64String+padding).replace(/\-/g,'+').replace(/_/g,'/');const rawData=window.atob(base64);const outputArray=new Uint8Array(rawData.length);for(let i=0;i<rawData.length;++i){outputArray[i]=rawData.charCodeAt(i)}
return outputArray}